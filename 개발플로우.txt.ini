와우! 👏👏👏 프로토타입이 아주 훌륭하게 작동한다니 정말 기쁩니다. 이제 이 프로토타입을 **여러 학생이 로그인해서 사용하고, 데이터를 안전하게 저장하는 정식 웹 서비스**로 발전시킬 차례군요.

**MariaDB**를 사용하는 정식 웹 서비스 구축을 위한 **전체 로드맵(Flow)**을 짜드리겠습니다. 이 과정은 크게 **[DB 설계] -> [백엔드 서버 구축] -> [프론트엔드 연결] -> [배포]** 순서로 진행됩니다.

---

### 🏗️ 전체 아키텍처 (구조도)

1. **Client (프론트엔드)**: 지금 만드신 HTML/JS 화면 (웹 브라우저)
2. **Server (백엔드)**: 데이터 요청을 처리하는 중계자 (Node.js 추천 - JS로 통일 가능)
3. **Database (데이터 저장소)**: MariaDB (회원 정보, 공부 내용, 진도율 저장)

---

### 1단계: MariaDB 데이터베이스 설계 (Schema)

가장 먼저 데이터를 담을 그릇을 만들어야 합니다. 구글 시트의 내용을 DB 테이블로 옮기고, 사용자 기능을 추가합니다.

#### 필요한 테이블 구성안

1. **Users (학생 테이블)**: 아이디, 비번, 이름, 주말 미루기 잔여 횟수
2. **Curriculum (공부 내용 테이블)**: 날짜, 과목, 제목, 영상URL, 포인트 내용 등 (구글 시트 내용)
3. **Progress (학습 기록 테이블)**: '누가', '어떤 강의'를, '언제' 완료했는지, '미뤘는지' 여부

**[SQL 예시 - 바로 사용 가능]**

```sql
-- 1. 학생 테이블
CREATE TABLE users (
    id INT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(50) NOT NULL UNIQUE, -- 로그인 아이디
    password VARCHAR(255) NOT NULL,       -- 암호화된 비밀번호
    name VARCHAR(50) NOT NULL,            -- 학생 이름
    weekend_chance INT DEFAULT 3,         -- 주말 미루기 잔여 횟수 (매주 초기화 필요)
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- 2. 커리큘럼(공부 내용) 테이블 (구글 시트 내용이 여기로 들어감)
CREATE TABLE curriculums (
    id INT AUTO_INCREMENT PRIMARY KEY,
    study_date DATE NOT NULL,             -- 공부할 날짜
    subject VARCHAR(20),                  -- 과목
    title VARCHAR(100),                   -- 제목
    video_url TEXT,                       -- 영상 링크 (유튜브/Vimeo)
    point_title VARCHAR(100),             -- 포인트 제목
    point_content TEXT,                   -- 포인트 내용 (마크다운)
    tip TEXT                              -- 팁
);

-- 3. 학습 현황 테이블 (누가 뭘 했는지)
CREATE TABLE study_progress (
    id INT AUTO_INCREMENT PRIMARY KEY,
    user_id INT,                          -- 학생 ID
    curriculum_id INT,                    -- 커리큘럼 ID
    status ENUM('completed', 'deferred') NOT NULL, -- 상태 (완료/미룸)
    completed_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id),
    FOREIGN KEY (curriculum_id) REFERENCES curriculums(id)
);

```

---

### 2단계: 백엔드 서버 구축 (API 만들기)

프론트엔드(HTML)가 MariaDB에 직접 접속하면 보안상 매우 위험합니다. 중간에서 요청을 받아주는 **API 서버**가 필요합니다.

* **추천 언어**: **Node.js (Express 프레임워크)**
* 이유: 지금 작성하신 프론트엔드 코드(JavaScript)와 문법이 똑같아서 배우기 가장 쉽고 개발 속도가 빠릅니다.


* **구현해야 할 기능 (API Endpoints)**:
1. `POST /api/login`: 아이디/비번 확인 후 '토큰(입장권)' 발급
2. `GET /api/tasks?date=2026-01-05`: 해당 날짜의 공부 목록 + **나의 완료 여부**를 합쳐서 전달
3. `POST /api/tasks/complete`: "이 공부 완료했어요"라고 DB에 기록
4. `POST /api/tasks/defer`: "이 공부 미룰래요" 요청 처리 (잔여 횟수 차감)



---

### 3단계: 관리자 페이지 (Admin) 구축

DB에 매번 SQL 명령어로 공부 내용을 넣을 순 없겠죠? 선생님(관리자)이 편하게 볼 페이지가 필요합니다.

* **기능**:
* **학생 관리**: 가입된 학생 목록, 현재 진도율 확인.
* **콘텐츠 등록**: 구글 시트처럼 공부 내용을 웹에서 입력/수정/삭제.
* **일괄 등록**: 기존 구글 시트 데이터를 한 번에 DB로 가져오는 기능 (초기 1회).



---

### 4단계: 프론트엔드 수정 (연결)

지금 만드신 `index.html`을 조금 수정해야 합니다.

1. **로그인 화면 추가**: 처음에 로그인 창을 띄우고, 성공하면 공부 화면 진입.
2. **데이터 소스 변경**:
* (기존) `fetch(GOOGLE_SHEET_URL)`
* (변경) `fetch('http://내서버주소/api/tasks?date=...')`


3. **상태 관리**:
* 새로고침 해도 "완료" 상태가 유지되도록, 서버에서 받아온 데이터(`is_completed: true`)를 기반으로 CSS 클래스 적용.



---

### 🚀 추천하는 개발 순서

혼자서 한 번에 다 하려면 벅찰 수 있습니다. 아래 순서대로 하나씩 도장 깨기 하듯 진행하는 걸 추천해요.

1. **환경 세팅**:
* PC에 `MariaDB` 설치 (또는 호스팅).
* PC에 `Node.js` 설치.


2. **서버 "Hello World"**:
* Node.js로 간단한 웹서버를 띄워서 DB에 있는 데이터 1줄을 브라우저에 보여주기.


3. **로그인 구현**:
* DB에 가짜 회원 하나 넣고, 아이디/비번 입력해서 로그인 성공시키는 로직.


4. **데이터 연동**:
* 지금 만드신 프론트엔드에 구글 시트 대신 Node.js 서버 주소 넣기.



---

**가장 먼저 무엇을 도와드릴까요?**

1. **"내 컴퓨터에 개발 환경(Node.js + MariaDB) 세팅하는 법 알려줘"** (실습 시작)
2. **"백엔드 서버(Node.js) 기본 코드(로그인+DB연동) 짜줘"** (코드 먼저 보기)
3. **"일단 구글 시트 데이터를 MariaDB로 옮기는 스크립트부터 줘"** (데이터 이사)

어느 쪽이 편하신가요?